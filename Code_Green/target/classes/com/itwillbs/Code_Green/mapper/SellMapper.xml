<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.itwillbs.Code_Green.mapper.SellMapper">


	<select id="selectCart" resultType="com.itwillbs.Code_Green.vo.CartVO">
		SELECT 
			i.item_name,
			i.item_price,
			m.manager_brandname,
			c.cart_amount,
			c.cart_total,
			c.rf_member_idx,
			c.rf_item_idx,
			r.member_id,
            f.file1
		FROM cart c
		LEFT JOIN item i ON i.item_idx = c.rf_item_idx
		JOIN manager m ON m.manager_idx = i.re_manager_idx 
		JOIN member r ON r.member_idx = c.rf_member_idx
        JOIN file_item f ON f.file_item_idx = i.item_idx
		WHERE r.member_id = #{member_id};
	</select>


	<select id="selectCoin" resultType="com.itwillbs.Code_Green.vo.CoinVO">
		SELECT  c.coin_idx,
				c.rf_member_idx,
		        c.coin_add,
		        c.coin_use,
		        c.coin_charge,
		        c.coin_total,
		        c.coin_date
		FROM coin c
		JOIN member m ON c.rf_member_idx = m.member_idx
		WHERE m.member_id = #{member_id}
	</select>
</mapper>
